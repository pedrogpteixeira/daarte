<!-- Desktop Sidebar -->
<div class="desktop-sidebar">
  <div class="sidebar-content">
    <!-- Categories -->
    <div class="filter-section">
      <h3 class="filter-title">Categories</h3>
      <div class="filter-options">
        <button
          *ngFor="let category of categories"
          (click)="handleCategoryChange(category)"
          [class.active]="selectedCategory.toLowerCase() === category.toLowerCase()"
          class="filter-option"
        >
          {{ category }}
        </button>
      </div>
    </div>

    <!-- Price Range -->
    <div class="filter-section">
      <h3 class="filter-title">Price Range</h3>
      <div class="price-range">
        <span class="price-label">${{ priceRange[0] }}</span>
        <span class="price-label">${{ priceRange[1] }}</span>
      </div>
      <input
        type="range"
        min="0"
        max="200"
        [value]="priceRange[0]"
        (input)="handlePriceChange($event, 0)"
        class="range-input"
      />
      <input
        type="range"
        min="0"
        max="200"
        [value]="priceRange[1]"
        (input)="handlePriceChange($event, 1)"
        class="range-input"
      />
    </div>

    <!-- Availability -->
    <div class="filter-section">
      <h3 class="filter-title">Availability</h3>
      <div class="filter-options">
        <label class="filter-option">
          <input
            type="checkbox"
            [checked]="showInStock"
            (change)="showInStockChange.emit(!showInStock)"
          />
          In Stock
        </label>
        <label class="filter-option">
          <input
            type="checkbox"
            [checked]="showOutOfStock"
            (change)="showOutOfStockChange.emit(!showOutOfStock)"
          />
          Out of Stock
        </label>
      </div>
    </div>
  </div>
</div>

<!-- Mobile Filter Button -->
<div class="mobile-filter-button">
  <button (click)="toggleMobileFilter(true)" class="filter-button">
    <span class="filter-icon">Filter</span>
    Filter Products
  </button>
</div>

<!-- Mobile Filter Overlay -->
<div *ngIf="isMobileFilterOpen" class="mobile-filter-overlay">
  <div class="mobile-filter-content">
    <div class="filter-header">
      <h2 class="filter-title">Filters</h2>
      <button (click)="toggleMobileFilter(false)" class="close-button">
        <span class="close-icon">X</span>
      </button>
    </div>
    <div class="sidebar-content">
      <!-- Categories -->
      <div class="filter-section">
        <h3 class="filter-title">Categories</h3>
        <div class="filter-options">
          <button
            *ngFor="let category of categories"
            (click)="handleCategoryChange(category)"
            [class.active]="selectedCategory === category"
            class="filter-option"
          >
            {{ category }}
          </button>
        </div>
      </div>

      <!-- Price Range -->
      <div class="filter-section">
        <h3 class="filter-title">Price Range</h3>
        <div class="price-range">
          <span class="price-label">${{ priceRange[0] }}</span>
          <span class="price-label">${{ priceRange[1] }}</span>
        </div>
        <input
          type="range"
          min="0"
          max="200"
          [value]="priceRange[0]"
          (input)="handlePriceChange($event, 0)"
          class="range-input"
        />
        <input
          type="range"
          min="0"
          max="200"
          [value]="priceRange[1]"
          (input)="handlePriceChange($event, 1)"
          class="range-input"
        />
      </div>

      <!-- Availability -->
      <div class="filter-section">
        <h3 class="filter-title">Availability</h3>
        <div class="filter-options">
          <label class="filter-option">
            <input
              type="checkbox"
              [checked]="showInStock"
              (change)="showInStockChange.emit(!showInStock)"
            />
            In Stock
          </label>
          <label class="filter-option">
            <input
              type="checkbox"
              [checked]="showOutOfStock"
              (change)="showOutOfStockChange.emit(!showOutOfStock)"
            />
            Out of Stock
          </label>
        </div>
      </div>
    </div>
    <button (click)="toggleMobileFilter(false)" class="apply-button">
      Apply Filters
    </button>
  </div>
</div>
